---
title: 基于fastlane的实践-大纲
date: 2018-08-18 08:23:42
tags:
- fastlane
---

> 本系列不属于入门文章，如果不懂如何安装或者使用的，可以去互联网搜索相关资料

从去年开始，有断断续续基于 `fastlane` 做一些工具，这个系列文章算是总结输出一下这段经验。本篇属于大纲。

## 大纲

- [基于fastlane的实践-自动化打包(上)](../fastlane-gym-01/)
- [基于fastlane的实践-自动化打包(下)](../fastlane-gym-02/)
- [基于fastlane的实践-管理证书](../fastlane-match/)
- [基于fastlane的实践-添加测试机](../fastlane-tjcsj/)
- [基于fastlane的实践-新建内购项目](../fastlane-iap/)

## 背景

去年入职现在这家公司，每天都会打两次内测包。就去尝试做一些东西来减轻一些人力负担。最后找到一台 `mac mini` 来做打包。

再之后，因为有了多个新的马甲包，所以又尝试研究了下 `管理证书`、`新建内购项目` 这几个东西。

同样，也是由于马甲包的问题，有其他部门或者测试机都需要添加UDID，手动完成这个步骤非常费时间，就同样研究了下。

## 成果

最终的成果还算让我满意。效果如下:

- 自动化打包(AdHoc): 
    - 支持远程登录主机打包
    - 支持自动增加、识别版本号，并按序增加
    - (Git)支持自动拉取，打标签，推送
    - 支持打混淆马甲包，并合并修改到非混淆代码分支
    - 支持推送到 `fir.im`、发送钉钉消息
    - 支持一份文件+配置文件打不同马甲包
- 管理证书: 失败，效果不算好
- 添加新测试机: 成功
- 新建内购项目: 成功

## 期望做的

### 基于 `AdHoc` 打包的文件，自动生成 `AppStore` 的 `ipa`

这一步其实是由于现在上传 `App Store` 就是基于 `Xcode` 来做的，可以省去重复打包，而且确保代码和测试过的一致。

`Xcode` 的入口在 `Window` -> `Organzier` -> `Archives` , 然后找到对应的版本，提交或者生成包就行了。

我就在考虑有没有好办法，可以获取到这个路径，然后自动转换成 `App Store` 的包然后上传提交。
    




